๐ ุงูฺฏูุฑุชู A* ุฏุฑ ูุญุท ฺฏุฑุงูฺฉ (JavaScript + HTML Canvas)
ุงู ูพุฑูฺู ูพุงุฏูโุณุงุฒ ฺฉุงูู ุงูฺฏูุฑุชู ุฌุณุชุฌู A* (ุงโุงุณุชุงุฑ) ุฏุฑ ฺฉ ฺฏุฑุฏ ุฏูโุจุนุฏ ุงุณุช ฺฉู ฺฉุงุฑุจุฑ ูโุชูุงูุฏ ฺฏุฑูโูุง ุดุฑูุนุ ูพุงุงู ู ุฏูุงุฑูุง ุฑุง ุจู ุตูุฑุช ุจุตุฑ ูุดุฎุต ฺฉูุฏ. ุงู ูพุฑูฺู ุจุง ุงุณุชูุงุฏู ุงุฒ HTML5 Canvas ู ุฒุจุงู JavaScript ููุดุชู ุดุฏู ุงุณุช.

๐ฏ ุงูุฏุงู ูพุฑูฺู
ุขููุฒุด ููุงูู ูุณุฑโุงุจ (Pathfinding)

ููุงุด ุจุตุฑ ุงูฺฏูุฑุชู A*

ุชูุฑู ุนูู ุจุง JavaScript ู ฺฏุฑุงูฺฉ Canvas

๐ง ุงูฺฏูุฑุชู A* ฺุณุชุ
ุงูฺฏูุฑุชู A* ฺฉ ุงุฒ ูุนุฑููโุชุฑู ุฑูุดโูุง ุงูุชู ฺฉูุชุงูโุชุฑู ูุณุฑ ุจู ุฏู ููุทู ุฏุฑ ฺฏุฑุงู ุงุณุช. ุงู ุงูฺฏูุฑุชู ุงุฒ ุฏู ุชุงุจุน ุงุณุชูุงุฏู ูโฺฉูุฏ:

g(n): ูุฒูู ุท ูุณุฑ ุงุฒ ฺฏุฑู ุดุฑูุน ุชุง ฺฏุฑู ูุนู

h(n): ุชุฎูู ูุฒูู ุจุงูโูุงูุฏู ุงุฒ ฺฏุฑู ูุนู ุชุง ููุตุฏ (ุชุงุจุน heuristic)

ูุฑููู:
f(n) = g(n) + h(n)

๐งฑ ุณุงุฎุชุงุฑ ูพุฑูฺู
1. ุชูุธูุงุช ุงููู ุจุฑุง ฺฉุงุฑ ุจุง ุจูู ููุงุด (Canvas)
```sh
const canvas = document.getElementById("mapCanvas");
const ctx = canvas.getContext("2d");
const tileSize = 20;
const rows = canvas.height / tileSize;
const cols = canvas.width / tileSize;
canvas: ูุง ฺฉ ุนูุตุฑ ุฏุฑ ุตูุญู ูุจ ุฏุงุฑู ุจู ุงุณู "mapCanvas" ฺฉู ุจูุด ุจูู ููุงุด (Canvas) ูโฺฏูู. ุงูุฌุง ุจุง getElementById ุขู ุฑุง ูโฺฏุฑู ุชุง ุจุชููู ุฑู ุขู ููุงุด ฺฉูู.

ctx: ุงู ููุงู ฺุฒ ุงุณุช ฺฉู ูโฺฏูุฏ ฺฺฏููู ุฑู ุจูู ููุงุด ฺฉูู (ุฑูฺฏุ ุฎุทูุทุ ูุณุชุทู ู ...).

tileSize: ุงูุฏุงุฒู ูุฑ ุฎุงูู ุงุฒ ุฌุฏูู ุง ฺฏุฑุฏ ฺฉู ูโุฎูุงูู ุฑู ุจูู ุฑุณู ฺฉููุ ุงูุฌุง ฒฐ ูพฺฉุณู ุชูุธู ุดุฏู.

rows ู cols: ุชุนุฏุงุฏ ุฑุฏูโูุง ู ุณุชููโูุง ุฌุฏูู ุฑุง ุงุฒ ุงูุฏุงุฒู ุจูู ุจู ูุณุจุช ุงูุฏุงุฒู ูุฑ ุฎุงูู ุญุณุงุจ ูโฺฉูุฏ.
```
2. ุชุนุฑู ฺฉูุงุณ Node (ฺฏุฑู ุง ุฎุงูู ุฌุฏูู)
```shclass Node {
  constructor(x, y) {
    this.x = x;
    this.y = y;
    this.walkable = true;
    this.g = Infinity;
    this.h = 0;
    this.f = Infinity;
    this.parent = null;
    this.closed = false;
  }
}
```
ุงู ุจุฎุด ฺฉ ูุงูุจ ุง ูุฏู ุจุฑุง ูุฑ ุฎุงูู ุฏุฑ ุฌุฏูู ุงุณุช ฺฉู ูโุฎูุงูู ุงุณุชูุงุฏู ฺฉูู.

x ู y: ูุฎุชุตุงุช ุงู ุฎุงูู ุฏุฑ ุฌุฏูู (ูุซูุงู ุฑุฏู ู ุณุชูู).

walkable: ุขุง ุงู ุฎุงูู ูุงุจู ุนุจูุฑ ุงุณุช ุง ูู (ูุซู ุฏูุงุฑ ุง ุฑุงู).

g: ูุฒูู ูุณุฑ ุงุฒ ููุทู ุดุฑูุน ุชุง ุงู ุฎุงูู (ููุฏุงุฑ ฺฉู ุงููุงู ุจุณุงุฑ ุจุฒุฑฺฏ ุงุณุช ฺูู ูููุฒ ููุฏุงุฑุฏู ูุดุฏู).

h: ุชุฎูู ฺฉู ูโุฒูู ฺูุฏุฑ ุจุง ููุทู ูพุงุงู ูุงุตูู ุฏุงุฑุฏ (ุงู ุนุฏุฏ ุจุนุฏุงู ูุญุงุณุจู ูโุดูุฏ).

f: ูุฌููุน g ู h ฺฉู ูุดุงูโุฏููุฏู ุจูุชุฑู ูุณุฑ ูพุดููุงุฏ ุงุณุช.

parent: ุฎุงููโุง ฺฉู ุงุฒ ุขู ุจู ุงู ุฎุงูู ุฑุณุฏูโุงู (ุจุฑุง ูพุฏุง ฺฉุฑุฏู ูุณุฑ ููุง).

closed: ุขุง ุงู ุฎุงูู ูุจูุงู ุจุฑุฑุณ ุดุฏู ุง ุฎุฑ.

3. ูุชุบุฑูุง ุงุตู ุจุฑูุงูู
```sh
let grid = [];
let startNode = null;
let endNode = null;
let closedSeq = [];
let placing = "start";
```
grid: ุขุฑุงูโุง ุฏู ุจุนุฏ ฺฉู ุชูุงู ุฎุงููโูุง (ฺฏุฑูโูุง) ุฑุง ูฺฏู ูโุฏุงุฑุฏ.

startNode: ุฎุงููโุง ฺฉู ููุทู ุดุฑูุน ุงุณุช (ูููุฒ ุงูุชุฎุงุจ ูุดุฏู).

endNode: ุฎุงููโุง ฺฉู ููุทู ูพุงุงู ุงุณุช (ูููุฒ ุงูุชุฎุงุจ ูุดุฏู).

closedSeq: ูุณุช ุงุฒ ุฎุงููโูุง ฺฉู ุงูฺฏูุฑุชู ุจุฑุฑุณ ฺฉุฑุฏู ู ุจุณุชู ุดุฏูโุงูุฏ (ุจุฑุง ููุงุด ูุฑุงุญู ุฌุณุชุฌู).

placing: ุญุงูุช ุงูุชุฎุงุจ ุฎุงููโูุง (ูุซูุงู ุงุจุชุฏุง ุดุฑูุนุ ุณูพุณ ูพุงุงูุ ุณูพุณ ุฏูุงุฑ).

4. ุชุงุจุน initGrid โ ุฑุงูโุงูุฏุงุฒ ุง ุจุงุฒูุดุงู ุฌุฏูู
```sh
function initGrid() {
  grid = [];
  closedSeq = [];
  startNode = null;
  endNode = null;
  placing = "start";
  document.getElementById("runBtn").disabled = true;
  document.getElementById("info").innerHTML = "";
  
  for (let y = 0; y < rows; y++) {
    const row = [];
    for (let x = 0; x < cols; x++) {
      row.push(new Node(x, y));
    }
    grid.push(row);
  }
  
  drawGrid();
}
```
ุชูุถุญ ุณุงุฏู:
ุงู ุชุงุจุน ูุธูู ุฏุงุฑุฏ ฺฉู ุฌุฏูู ุฎุงููโูุง ุฑุง ุงุฒ ุงูู ุจุณุงุฒุฏ ู ููู ฺุฒ ุฑุง ุขูุงุฏู ฺฉูุฏ.

ุงูู ุขุฑุงูโ grid ุฑุง ุฎุงู ูโฺฉูุฏ. ุงู ุขุฑุงู ุจุนุฏุงู ูููโ ุฎุงููโูุง ุฑุง ุฐุฎุฑู ูโฺฉูุฏ.

ูุณุช closedSeq ฺฉู ุฎุงููโูุง ุจุฑุฑุณ ุดุฏู ุฑุง ูฺฏู ูโุฏุงุฑุฏ ูู ูพุงฺฉ ูโุดูุฏ.

ููุงุท ุดุฑูุน ู ูพุงุงู (startNode ู endNode) ุฑุง ูพุงฺฉ ูโฺฉูุฏุ ฺูู ูููุฒ ุงูุชุฎุงุจ ูุดุฏูโุงูุฏ.

ุญุงูุช ูุฑุงุฑ ุฏุงุฏู ุฎุงููโูุง (placing) ุฑุง ุฑู "start" ูโฺฏุฐุงุฑุฏุ ุนู ุงูุชุธุงุฑ ุฏุงุฑุฏ ฺฉุงุฑุจุฑ ุงูู ููุทู ุดุฑูุน ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.

ุฏฺฉูู ุงุฌุฑุง ุงูฺฏูุฑุชู (runBtn) ุฑุง ุบุฑูุนุงู ูโฺฉูุฏ ฺูู ูููุฒ ููู ฺุฒ ุขูุงุฏู ูุณุช.

ูุชู ุงุทูุงุนุงุช ุฒุฑ ุฌุฏูู ุฑุง ูพุงฺฉ ูโฺฉูุฏ ุชุง ุฌุง ุฌุฏุฏ ุขูุงุฏู ุดูุฏ.

ุณูพุณ ฺฉ ุญููู ุฏูุจูู ูโุฒูุฏ:

ุจุฑุง ูุฑ ุฑุฏู (y) ู ูุฑ ุณุชูู (x) ฺฉ ุฎุงูู ุฌุฏุฏ ุงุฒ ููุน Node ูโุณุงุฒุฏ ู ุจู ุขุฑุงู ุฑุฏู ุงุถุงูู ูโฺฉูุฏ.

ุจุนุฏ ุงุฒ ฺฉุงูู ุดุฏู ฺฉ ุฑุฏูุ ุขู ุฑุง ุจู ุฌุฏูู ุงุตู (grid) ุงุถุงูู ูโฺฉูุฏ.

ุฏุฑ ุขุฎุฑ ุฌุฏูู ุฑุง ุฑุณู ูโฺฉูุฏ (ุชุงุจุน drawGrid ุฑุง ุตุฏุง ูโุฒูุฏ).

5. ุชุงุจุน drawGrid โ ุฑุณู ุฌุฏูู ุฑู ุตูุญู
```sh
function drawGrid() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  grid.forEach((row) => {
    row.forEach((node) => {
      ctx.fillStyle = node.walkable ? "#eee" : "#333";
      ctx.fillRect(node.x * tileSize, node.y * tileSize, tileSize, tileSize);
      ctx.strokeStyle = "#ccc";
      ctx.strokeRect(node.x * tileSize, node.y * tileSize, tileSize, tileSize);
    });
  });
  if (startNode) drawCircle(startNode, "green");
  if (endNode) drawCircle(endNode, "red");
}
```
ุชูุถุญ ุณุงุฏู:
ุงู ุชุงุจุน ูููโ ุฎุงููโูุง ุฑุง ุฑู ุจูู ููุงุด (canvas) ุฑุณู ูโฺฉูุฏ.

ุงูู ฺฉู ุตูุญู ุฑุง ูพุงฺฉ ูโฺฉูุฏ (clearRect) ุชุง ฺุฒ ุฑู ูู ุงูุจุงุดุชู ูุดูุฏ.

ุจุนุฏ ุฏุฑ ูุฑ ุฎุงูู ุงุฒ ุฌุฏูู (grid) ุจู ุงู ุตูุฑุช ุนูู ูโฺฉูุฏ:

ุงฺฏุฑ ุฎุงูู ูุงุจู ุนุจูุฑ ุจุงุดุฏ (walkable = true)ุ ุขู ุฑุง ุฑูฺฏ ุฑูุดู ุฎุงฺฉุณุชุฑ #eee ูโฺฉูุฏ.

ุงฺฏุฑ ุบุฑูุงุจู ุนุจูุฑ (ูุซู ุฏูุงุฑ) ุจุงุดุฏุ ุฑูฺฏ ุชุฑูโุชุฑ ุฎุงฺฉุณุชุฑ #333 ูโุดูุฏ.

ุจุนุฏ ุงุฒ ุฑูฺฏ ฺฉุฑุฏู ุฏุงุฎู ุฎุงููุ ุฏูุฑ ุฎุงูู ฺฉ ุฎุท ุจุง ุฑูฺฏ ุฎุงฺฉุณุชุฑ ุฑูุดู (#ccc) ูโฺฉุดุฏ ุชุง ุฎุงููโูุง ุงุฒ ูู ุฌุฏุง ุฏุฏู ุดููุฏ.

ุฏุฑ ููุงุชุ ุงฺฏุฑ ููุทู ุดุฑูุน (startNode) ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏุ ุฑู ุขู ฺฉ ุฏุงุฑู ุณุจุฒ ูโฺฉุดุฏ.

ุงฺฏุฑ ููุทู ูพุงุงู (endNode) ูุดุฎุต ุดุฏู ุจุงุดุฏุ ุฑู ุขู ฺฉ ุฏุงุฑู ูุฑูุฒ ูโฺฉุดุฏ.

6. ุชุงุจุน drawCircle โ ุฑุณู ุฏุงุฑู ุฑูฺฏ ุฏุงุฎู ุฎุงูู
```sh
function drawCircle(node, color) {
  ctx.fillStyle = color;
  ctx.beginPath();
  ctx.arc(
    node.x * tileSize + tileSize / 2,
    node.y * tileSize + tileSize / 2,
    tileSize / 3,
    0,
    Math.PI * 2
  );
  ctx.fill();
}
```
ุชูุถุญ ุณุงุฏู:
ุงู ุชุงุจุน ฺฉ ุฏุงุฑู ุฑูฺฏ ูุณุท ฺฉ ุฎุงูู ูโฺฉุดุฏ.

ูพุงุฑุงูุชุฑ node ุฎุงููโุง ุงุณุช ฺฉู ุจุงุฏ ุฏุงุฑู ุฏุงุฎู ุขู ฺฉุดุฏู ุดูุฏ.

ูพุงุฑุงูุชุฑ color ุฑูฺฏ ุฏุงุฑู ุฑุง ูุดุฎุต ูโฺฉูุฏ (ูุซูุงู ุณุจุฒ ุง ูุฑูุฒ).

ุฏุงุฑู ูุณุท ุฎุงูู ูุฑุงุฑ ูโฺฏุฑุฏ (ุจุง ุงุณุชูุงุฏู ุงุฒ ูุฎุชุตุงุช ุฎุงูู ู ุงูุฏุงุฒู ุฎุงูู).

ุงูุฏุงุฒู ุฏุงุฑู ุญุฏูุฏ ฺฉ ุณูู ุงูุฏุงุฒู ุฎุงูู ุงุณุช.

ุจุง ุงู ุฏุงุฑู ูุดุฎุต ูโุดูุฏ ฺฉู ุฎุงูู ุดุฑูุน ุง ูพุงุงู ุงุณุช.

7. ูุฏุฑุช ฺฉูฺฉ ฺฉุงุฑุจุฑ ุฑู ุจูู (canvas)
```sh
canvas.addEventListener("click", (e) => {
  const x = Math.floor(e.offsetX / tileSize);
  const y = Math.floor(e.offsetY / tileSize);
  const node = grid[y][x];

  if (placing === "start") {
    startNode = node;
    placing = "end";
  } else if (placing === "end") {
    endNode = node;
    placing = "wall";
    document.getElementById("runBtn").disabled = false;
  } else if (node !== startNode && node !== endNode) {
    node.walkable = !node.walkable;
  }

  drawGrid();
});
```
ุชูุถุญ ุณุงุฏู:
ุงู ุจุฎุด ุนู ููุช ฺฉุงุฑุจุฑ ุฑู ุจูู ฺฉูฺฉ ูโฺฉูุฏุ ฺู ุงุชูุงู ุจูุชุฏ.

e.offsetX ู e.offsetY ูุฎุชุตุงุช ฺฉูฺฉ ุฑู ุจูู ุฑุง ุจู ูพฺฉุณู ูโุฏูุฏ.

ุจุง ุชูุณู ุงู ููุฏุงุฑ ุจู ุงูุฏุงุฒู ูุฑ ุฎุงูู (tileSize) ู ฺฏุฑูุชู ูุณูุช ุตุญุญ (Math.floor)ุ ูุดุฎุต ูโุดูุฏ ฺฉู ุฑู ฺฉุฏุงู ุฎุงูู ฺฉูฺฉ ุดุฏู ุงุณุช.

ุณูพุณ ุขู ุฎุงูู ุงุฒ ุฌุฏูู (grid) ฺฏุฑูุชู ูโุดูุฏ.

ุญุงูุง ุจุฑ ุงุณุงุณ ูุฑุญูู ูุฑุงุฑ ุฏุงุฏู (placing) ฺฉุงุฑ ุงูุฌุงู ูโุฏูุฏ:

ุงฺฏุฑ ุฏุฑ ูุฑุญูู ุงูุชุฎุงุจ ููุทู ุดุฑูุน ("start") ูุณุชู:

ุฎุงูู ฺฉูฺฉ ุดุฏู ุฑุง ุจู ุนููุงู ุดุฑูุน ูุฑุงุฑ ูโุฏูุฏ (startNode = node)

ุณูพุณ ุญุงูุช ุฑุง ูโฺฏุฐุงุฑุฏ ุฑู ุงูุชุฎุงุจ ูพุงุงู (placing = "end").

ุงฺฏุฑ ุฏุฑ ูุฑุญูู ุงูุชุฎุงุจ ูพุงุงู ูุณุชู:

ุฎุงูู ฺฉูฺฉ ุดุฏู ุฑุง ุจู ุนููุงู ูพุงุงู ูุฑุงุฑ ูโุฏูุฏ (endNode = node)

ุณูพุณ ูโุฑูุฏ ุจู ูุฑุญูู ุณุงุฎุช ุฏูุงุฑ (placing = "wall")

ุฏฺฉูู ุงุฌุฑุง ุงูฺฏูุฑุชู ูุนุงู ูโุดูุฏ ฺูู ุญุงูุง ุดุฑูุน ู ูพุงุงู ูุดุฎุต ุดุฏู.

ุงฺฏุฑ ุฏุฑ ูุฑุญูู ุณุงุฎุช ุฏูุงุฑ ูุณุชู (placing === "wall"):

ุงฺฏุฑ ุฎุงููโุง ฺฉูฺฉ ุดูุฏ ฺฉู ููุทู ุดุฑูุน ุง ูพุงุงู ูุณุชุ ูุถุนุช ูุงุจู ุนุจูุฑ ุจูุฏู ุขู ุฎุงูู ุชุบุฑ ูโฺฉูุฏ. ุนู ุงฺฏุฑ ุฏูุงุฑ ุจูุฏ ุจู ุฑุงู ุชุจุฏู ูโุดูุฏ ู ุงฺฏุฑ ุฑุงู ุจูุฏ ุจู ุฏูุงุฑ.

ุจุนุฏ ุงุฒ ูุฑ ฺฉูฺฉุ ุฌุฏูู ุฏูุจุงุฑู ุฑุณู ูโุดูุฏ ุชุง ุชุบุฑุงุช ุฏุฏู ุดูุฏ.

8. ุฏฺฉููโูุง ุตูุญู: ุจุงุฒูุดุงูุ ููุดู ุชุตุงุฏูุ ุงุฌุฑุง
```sh
document.getElementById("resetBtn").addEventListener("click", initGrid);

document.getElementById("randomBtn").addEventListener("click", () => {
  if (!startNode || !endNode) {
    alert("ุงุจุชุฏุง ููุทูู ุดุฑูุน ู ูพุงุงู ุฑุง ูุดุฎุต ฺฉูุฏ.");
    return;
  }
  grid.forEach((row) => {
    row.forEach((node) => {
      node.walkable =
        node === startNode || node === endNode ? true : Math.random() < 0.7;
    });
  });
  closedSeq = [];
  document.getElementById("info").innerHTML = "";
  drawGrid();
});

document.getElementById("runBtn").addEventListener("click", () => {
  resetNodes();
  closedSeq = [];
  const path = astar(startNode, endNode);
  drawGrid();
  drawClosed();
  drawPath(path);
  showInfo(path);
});
```
ุชูุถุญ ุณุงุฏู:
ุฏฺฉูู ุจุงุฒูุดุงู (resetBtn):

ููุช ุงู ุฏฺฉูู ฺฉูฺฉ ุดูุฏุ ุชุงุจุน initGrid ุงุฌุฑุง ูโุดูุฏ.

ุนู ููู ุฌุฏูู ูพุงฺฉ ู ุงุฒ ูู ุณุงุฎุชู ูโุดูุฏ.

ุชูุงู ุฎุงููโูุง ูุงุจู ุนุจูุฑ ูโุดููุฏ ู ููุงุท ุดุฑูุน ู ูพุงุงู ุญุฐู ูโุดููุฏ.

ุฏฺฉูู ููุดู ุชุตุงุฏู (randomBtn):

ููุช ฺฉูฺฉ ุดูุฏุ ุงูู ฺฺฉ ูโฺฉูุฏ ฺฉู ุขุง ููุทู ุดุฑูุน ู ูพุงุงู ุงูุชุฎุงุจ ุดุฏูโุงูุฏ ุง ูู.

ุงฺฏุฑ ููุ ุจู ฺฉุงุฑุจุฑ ูุดุฏุงุฑ ูโุฏูุฏ ฺฉู ุงุจุชุฏุง ุจุงุฏ ุขูโูุง ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.

ุงฺฏุฑ ุงูุชุฎุงุจ ุดุฏูโุงูุฏุ ุฏุฑ ูุฑ ุฎุงูู ุบุฑ ุงุฒ ุดุฑูุน ู ูพุงุงู ุจุง ุงุญุชูุงู ทฐูช ุฎุงููโูุง ุฑุง ูุงุจู ุนุจูุฑ ู ณฐูช ุฑุง ุฏูุงุฑ ูโฺฉูุฏ.

ุงุทูุงุนุงุช ูุจู ูพุงฺฉ ุดุฏู ู ุฌุฏูู ุฏูุจุงุฑู ุฑุณู ูโุดูุฏ.

ุงู ฺฉุงุฑ ุจุงุนุซ ูโุดูุฏ ฺฉ ููุดูโ ุชุตุงุฏู ุจุง ุฏูุงุฑูุง ูพุฑุงฺฉูุฏู ุฏุงุดุชู ุจุงุดู.

ุฏฺฉูู ุงุฌุฑุง (runBtn):

ููุช ฺฉูฺฉ ุดูุฏุ ุงุจุชุฏุง ุฏุงุฏูโูุง ูุจู ฺฏุฑูโูุง ุฑุง ุจุงุฒูุดุงู ูโฺฉูุฏ (resetNodes).

ูุณุช ุฎุงููโูุง ุจุฑุฑุณ ุดุฏู (closedSeq) ุฑุง ูพุงฺฉ ูโฺฉูุฏ.

ุณูพุณ ุงูฺฏูุฑุชู A* ุฑุง ุงุฌุฑุง ูโฺฉูุฏ ู ูุณุฑ ุฑุง ูพุฏุง ูโฺฉูุฏ.

ุจุนุฏ ุฌุฏูู ุฑุง ุฏูุจุงุฑู ุฑุณู ูโฺฉูุฏ.

ุฎุงููโูุง ุจุณุชู ุดุฏู (ุจุฑุฑุณ ุดุฏู) ุฑุง ุฑูฺฏ ูโฺฉูุฏ (drawClosed).

ูุณุฑ ููุง ูพุฏุง ุดุฏู ุฑุง ุฑู ุฌุฏูู ูุดุงู ูโุฏูุฏ (drawPath).

ุงุทูุงุนุงุช ูุณุฑ ู ูุชุงุฌ ุฑุง ุจู ฺฉุงุฑุจุฑ ููุงุด ูโุฏูุฏ (showInfo).

9. ุชุงุจุน ููุงุด ุงุทูุงุนุงุช ูุณุฑ ู ุฌุณุชุฌู: showInfo(path)
```sh
function showInfo(path) {
  const researchPath = closedSeq.map((n) => `(${n.x},${n.y})`).join(" โ ");
  const solutionPath = path.map((n) => `(${n.x},${n.y})`).join(" โ ");
  const cost = endNode.g || 0;

  const completeness = "Yes";
  const optimization = "Yes";

  const depth = path.length > 0 ? path.length - 1 : 0;
  const nodesVisited = closedSeq.length;

  let totalNeighbors = 0;
  closedSeq.forEach((node) => {
    totalNeighbors += getNeighbors(node).length;
  });
  const realBranchingFactor =
    closedSeq.length > 0 ? (totalNeighbors / closedSeq.length).toFixed(2) : 0;

  const timeComplexity = `O(b^m), b โ ${realBranchingFactor}, m = ${depth} โ โ ${nodesVisited} ฺฏุฑู`;
  const spaceComplexity = `O(b^m), b โ ${realBranchingFactor}, m = ${depth} โ โ ${nodesVisited} ฺฏุฑู`;

  document.getElementById("info").innerHTML = `
        <table>
          <tr><th class="th-a">ุดุฑุญ</th><th class="th-b">ููุฏุงุฑ</th></tr>
          <tr><td>ูุณุฑ ุฌุณุชุฌู</td><td>${researchPath}</td></tr>
          <tr><td>ูุณุฑ ุฑุงูโุญู</td><td>${solutionPath}</td></tr>
          <tr><td>ูุฒูู ูุณุฑ</td><td>${cost}</td></tr>
          <tr><td>ฺฉุงูู ุจูุฏู</td><td>${completeness}</td></tr>
          <tr><td>ุจูููโุณุงุฒ</td><td>${optimization}</td></tr>
          <tr><td>ูพฺุฏฺฏ ุฒูุงู</td><td>${timeComplexity}</td></tr>
          <tr><td>ูพฺุฏฺฏ ูฺฉุงู</td><td>${spaceComplexity}</td></tr>
        </table>
      `;
}
```
ุชูุถุญ ุฎุท ุจู ุฎุท:
researchPath:
ุงู ุฎุท ฺฉ ูุชู ูโุณุงุฒุฏ ฺฉู ูุดุงู ูโุฏูุฏ ุงูฺฏูุฑุชู ุฏุฑ ฺู ุฎุงููโูุง ุฌุณุชุฌู ฺฉุฑุฏู ุงุณุช (ุนู ุชูุงู ุฎุงููโูุง ฺฉู ุจุงุฒ ุดุฏูโุงูุฏ ู ุจุฑุฑุณ ุดุฏูโุงูุฏ).
ฺฉุงุฑุด ุงู ุงุณุช ฺฉู ุขุฑุงู closedSeq (ฺฉู ุชูุงู ุฎุงููโูุง ุจุณุชู ุดุฏู ุฑุง ูฺฏู ูโุฏุงุฑุฏ) ุฑุง ูโฺฏุฑุฏ ู ุจุฑุง ูุฑ ุฎุงูู ูุฎุชุตุงุชุด ุฑุง ุจู ุดฺฉู (x,y) ุชุจุฏู ูโฺฉูุฏ ู ุจู ุขูโูุง ููุด โ ูโฺฏุฐุงุฑุฏ.

solutionPath:
ุงู ูุชู ูุณุฑ ููุง ุงุณุช ฺฉู ุงูฺฏูุฑุชู ูพุฏุง ฺฉุฑุฏู (ูุณุฑ ุฑุงูโุญู). ุงู ูุณุฑ ุดุงูู ุฎุงููโูุง ุงุณุช ฺฉู ุงุฒ ุดุฑูุน ุจู ูพุงุงู ูโุฑุณูุฏ.

cost:
ูุฒูู ูุณุฑ ุงุณุช ฺฉู ุฏุฑ ูุงูุน ูุฒูู ฺฉู ุท ุดุฏู ุงุฒ ููุทู ุดุฑูุน ุชุง ููุทู ูพุงุงู ุงุณุช. ุงู ููุฏุงุฑ ุฏุฑ ฺฏุฑู ูพุงุงู (endNode) ุฐุฎุฑู ุดุฏู.

completeness ู optimization:
ุงู ุฏู ุซุงุจุช ุชุนุฑู ุดุฏูโุงูุฏ ฺฉู ุงูฺฏูุฑุชู ฺฉุงูู ุงุณุช (ูโุชูุงูุฏ ููุดู ุฌูุงุจ ูพุฏุง ฺฉูุฏ ุงฺฏุฑ ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ) ู ุจููู ุงุณุช (ูุณุฑ ฺฉู ูุฒููโุชุฑ ุฑุง ูพุฏุง ูโฺฉูุฏ). ุงูุฌุง ููุท ููุฏุงุฑ "Yes" ุซุงุจุช ููุดุชู ุดุฏู.

depth:
ุนูู ูุณุฑ ุนู ุชุนุฏุงุฏ ุฎุงููโูุง ฺฉู ุฏุฑ ูุณุฑ ุฑุงูโุญู ูุฌูุฏ ุฏุงุฑุฏ ูููุง ฑ (ฺูู ุชุนุฏุงุฏ ุงู ุง ุญุฑฺฉุชโูุง ฺฉ ฺฉูุชุฑ ุงุฒ ุชุนุฏุงุฏ ุฎุงููโูุง ุงุณุช).

nodesVisited:
ุชุนุฏุงุฏ ฺฉู ุฎุงููโูุง ฺฉู ุงูฺฏูุฑุชู ุจุฑุฑุณ ฺฉุฑุฏู (ุฎุงููโูุง ฺฉู ุฏุฑ closedSeq ูุณุชูุฏ).

ูุญุงุณุจู ูุงฺฉุชูุฑ ุงูุดุนุงุจ ูุงูุน (branching factor):
ุงูฺฏูุฑุชู ุณุน ูโฺฉูุฏ ูุงูฺฏู ุชุนุฏุงุฏ ููุณุงูโูุง ูุงุจู ุญุฑฺฉุช ุฏุฑ ุฎุงููโูุง ุจุฑุฑุณ ุดุฏู ุฑุง ุญุณุงุจ ฺฉูุฏ:

```sh
let totalNeighbors = 0;
closedSeq.forEach((node) => {
  totalNeighbors += getNeighbors(node).length;
});
```
ุงูุฌุง ุจุฑุง ูุฑ ุฎุงูู ุชุนุฏุงุฏ ููุณุงูโูุง ูุงุจู ุนุจูุฑ ุฑุง ุฌูุน ูโฺฉูุฏ.
ุณูพุณ ูุงูฺฏู ุฑุง ูโฺฏุฑุฏ:

```sh
const realBranchingFactor = closedSeq.length > 0 ? (totalNeighbors / closedSeq.length).toFixed(2) : 0;
```
ูพฺุฏฺฏ ุฒูุงู ู ูฺฉุงู:
ุงู ูพฺุฏฺฏโูุง ุฑุง ุจู ุตูุฑุช ูุฑูููโูุง ุงุณุชุงูุฏุงุฑุฏ O(b^m) ููุงุด ูโุฏูุฏ ฺฉู ุฏุฑ ุขู:

b ูุงฺฉุชูุฑ ุงูุดุนุงุจ ูุงูุน ุงุณุช (ฺูุฏ ูุณุฑ ุงุฒ ูุฑ ฺฏุฑู ูโุชูุงูุฏ ุจุงุฒ ุดูุฏ)

m ุนูู ูุณุฑ ุงุณุช
ู ููฺูู ุชูุฑุจ ุชุนุฏุงุฏ ฺฏุฑูโูุง ุจุงุฒุฏุฏ ุดุฏู (nodesVisited) ุฑุง ูุดุงู ูโุฏูุฏ.

ุฏุฑ ููุงุช:
ุงู ุงุทูุงุนุงุช ุฑุง ุจู ุตูุฑุช ฺฉ ุฌุฏูู ุฏุงุฎู ุตูุญู ูุจ ููุงุด ูโุฏูุฏ.

10. ุฑุณู ุฎุงููโูุง ุจุณุชู ุดุฏู (ฺฏุฑูโูุง ุจุงุฒุฏุฏ ุดุฏู): drawClosed()
```sh
function drawClosed() {
  closedSeq.forEach((node) => {
    if (node !== startNode && node !== endNode) {
      ctx.fillStyle = "rgba(0,0,255,0.3)";
      ctx.fillRect(node.x * tileSize, node.y * tileSize, tileSize, tileSize);
    }
  });
}
```
ุงู ุชุงุจุน ุฎุงููโูุง ฺฉู ุงูฺฏูุฑุชู ุจุฑุฑุณ ฺฉุฑุฏู ู ุจุณุชู ุดุฏูโุงูุฏ ุฑุง ุจู ุฑูฺฏ ุขุจ ุดูุงู ุฑู ุฌุฏูู ูโฺฉุดุฏ.

ุฎุงููโูุง ุดุฑูุน ู ูพุงุงู ุฑุง ุฑูฺฏ ููโฺฉูุฏ.

11. ุจุงุฒูุดุงู ููุงุฏุฑ ฺฏุฑูโูุง: resetNodes()

```sh
function resetNodes() {
  grid.flat().forEach((node) => {
    node.g = Infinity;
    node.h = 0;
    node.f = Infinity;
    node.parent = null;
    node.closed = false;
  });
}
```
ุงู ุชุงุจุน ุชูุงู ุฎุงููโูุง ุฑุง ุจู ุญุงูุช ุงููู ุจุฑูโฺฏุฑุฏุงูุฏ.

ููุฏุงุฑ ูุฒููโูุง ุฑุง ุจุณุงุฑ ุจุฒุฑฺฏ ุง ุตูุฑ ูโฺฉูุฏ.

ฺฏุฑูโูุง ุฑุง ุจุงุฒ (closed = false) ูโฺฉูุฏ ู ูฺ ุฎุงููโุง ุฑุง ุจู ุนููุงู ูุงูุฏ ูฺฏู ููโุฏุงุฑุฏ.

ุงู ฺฉุงุฑ ูุจู ุงุฒ ุงุฌุฑุง ุงูฺฏูุฑุชู ุงูุฌุงู ูโุดูุฏ ุชุง ุฏุงุฏูโูุง ูุจู ูพุงฺฉ ุดููุฏ.

12. ุชุงุจุน ูุญุงุณุจู ูุงุตูู ุชุฎูู (Heuristic): heuristic(a, b)
```sh
function heuristic(a, b) {
  return Math.abs(a.x - b.x) + Math.abs(a.y - b.y);
}
```
ุงู ุชุงุจุน ูุงุตูู ุชูุฑุจ ุจู ุฏู ุฎุงูู ุฑุง ุญุณุงุจ ูโฺฉูุฏ (ูุงุตูู ูููุชู).

ุนู ูุงุตูู ุงูู ุจู ุนูุงูู ูุงุตูู ุนููุฏ ุฑุง ุฌูุน ูโุฒูุฏ.

ุงู ุชุฎูู ุจู ุงูฺฏูุฑุชู ฺฉูฺฉ ูโฺฉูุฏ ุชุง ูุณุฑ ุฑุง ุจูุชุฑ ูพุฏุง ฺฉูุฏ ู ุณุฑุนโุชุฑ ุจู ูุฏู ุจุฑุณุฏ.

13. ฺฏุฑูุชู ููุณุงูโูุง ูุงุจู ุนุจูุฑ: getNeighbors(node)
```sh
function getNeighbors(node) {
  const dirs = [
    [1, 0],
    [-1, 0],
    [0, 1],
    [0, -1],
  ];
  return dirs
    .map((d) => grid[node.y + d[1]]?.[node.x + d[0]])
    .filter((n) => n && n.walkable);
}
```
ุจุฑุง ูุฑ ุฎุงููุ ููุณุงูโูุง ุจุงูุงุ ูพุงูุ ฺูพ ู ุฑุงุณุช ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ.

ุงฺฏุฑ ููุณุงู ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ ู ูุงุจู ุนุจูุฑ (walkable) ุจุงุดุฏุ ุขู ุฑุง ุจู ุนููุงู ููุณุงู ูุนุชุจุฑ ุจุฑูโฺฏุฑุฏุงูุฏ.

ุนูุงูุช ุณูุงู ?. ฺฉ ุจุฑุฑุณ ุงููุช ุงุณุช ฺฉู ุงฺฏุฑ ุฎุงููโุง ุฎุงุฑุฌ ุงุฒ ูุญุฏูุฏู ุฌุฏูู ุจุงุดุฏุ ฺฉุฏ ุฎุทุง ูุฏูุฏ.

14. ุงุฌุฑุง ุงูฺฏูุฑุชู A* : astar(start, goal)
```sh
function astar(start, goal) {
  const openList = [];
  start.g = 0;
  start.h = heuristic(start, goal);
  start.f = start.h;
  openList.push(start);

  while (openList.length > 0) {
    openList.sort((a, b) => a.f - b.f);
    const current = openList.shift();
    if (current === goal) {
      return reconstructPath(goal);
    }
    current.closed = true;
    closedSeq.push(current);
    getNeighbors(current).forEach((neighbor) => {
      if (neighbor.closed) return;
      const tentativeG = current.g + 1;
      if (tentativeG < neighbor.g) {
        neighbor.parent = current;
        neighbor.g = tentativeG;
        neighbor.h = heuristic(neighbor, goal);
        neighbor.f = neighbor.g + neighbor.h;
        if (!openList.includes(neighbor)) {
          openList.push(neighbor);
        }
      }
    });
  }
  return [];
}
```
ุงู ุชุงุจุน ุงุตู ุงูฺฏูุฑุชู A* ุงุณุช.

openList ูุณุช ุงุณุช ฺฉู ุฎุงููโูุง ฺฉู ุจุงุฏ ุจุฑุฑุณ ุดููุฏ ุฑุง ูฺฏู ูโุฏุงุฑุฏ.

ุงุจุชุฏุง ุฎุงูู ุดุฑูุน ุฑุง ุจุง ูุฒูู ฐ ูโฺฏุฐุงุฑุฏ ู ุจู ูุณุช ุงุถุงูู ูโฺฉูุฏ.

ุชุง ููุช ฺฉู ูุณุช ุฎุงู ูุดุฏู:

ุฎุงููโุง ฺฉู ฺฉูุชุฑู f ุฑุง ุฏุงุฑุฏ ุงูุชุฎุงุจ ูโุดูุฏ (ุจูุชุฑู ฺฏุฒูู ูุนู).

ุงฺฏุฑ ููู ุฎุงูู ูุฏู ุจุงุดุฏุ ูุณุฑ ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ.

ุฎุงูู ูุนู













๐ฑ๏ธ ูุญูู ุงุณุชูุงุฏู
ูุงู index.html ุฑุง ุฏุฑ ูุฑูุฑฺฏุฑ ุจุงุฒ ฺฉูุฏ.

ุงุจุชุฏุง ฺฏุฑู ุดุฑูุน (ุณุจุฒ) ุฑุง ุจุง ฺฉูฺฉ ูุดุฎุต ฺฉูุฏ.

ุณูพุณ ฺฏุฑู ูพุงุงู (ูุฑูุฒ) ุฑุง ฺฉูฺฉ ฺฉูุฏ.

ุฑู ฺฏุฑูโูุง ฺฉูฺฉ ฺฉูุฏ ุชุง ุจู ุนููุงู ุฏูุงุฑ (ุณุงู) ุนูุงูุชโฺฏุฐุงุฑ ุดููุฏ.

ุฏฺฉูู "ุงุฌุฑุง" ุฑุง ูุดุงุฑ ุฏูุฏ ุชุง ุงูฺฏูุฑุชู ุงุฌุฑุง ุดูุฏ.

๐ก ูฺฺฏโูุง
ุฑุงุจุท ฺฉุงุฑุจุฑ ุณุงุฏู ู ุดููุฏ

ููุงุด ูุณุฑ ุจููู ู ฺฏุฑูโูุง ุจุฑุฑุณโุดุฏู

ูุงุจูุช ุณุงุฎุช ููุดู ุชุตุงุฏู

ุงุทูุงุนุงุช ฺฉุงูู ุฏุฑุจุงุฑู ูุฒูู ู ูพฺุฏฺฏ

๐ท ุชุตุงูุฑ 
![image](https://github.com/user-attachments/assets/7e469aa2-6ce5-4e08-af9d-d5f3bbff37ea)

ุญุงูุช ุงููู	ุงุฌุฑุง ุงูฺฏูุฑุชู

โ๏ธ ุงุฌุฑุง ู ุชูุณุนู
ุจุฑุง ุงุฌุฑุง ุจู ูฺ ฺฉุชุงุจุฎุงูู ุง ุณุฑูุฑ ูุงุฒ ูุณุช. ุชููุง ฺฉุงู ุงุณุช ูุงู HTML ุฑุง ุฏุฑ ูุฑูุฑฺฏุฑ ุจุงุฒ ฺฉูุฏ.

๐ ุณุงุฎุชุงุฑ ูุงูโูุง
pgsql
Copy
Edit
โโโ index.html
โโโ style.css
โโโ script.js
โโโ README.md
๐ ูุฌูุฒ
MIT License

